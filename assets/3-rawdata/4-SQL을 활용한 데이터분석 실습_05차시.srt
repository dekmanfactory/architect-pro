1
00:00:01,000 --> 00:00:05,500
[5차시: 분석의 깊이를 더하는 서브쿼리] 안녕하세요! 이제 단순한 조인을 넘어 더 정교한 질문을 던질 시간입니다.

2
00:00:06,000 --> 00:00:11,000
"우리 서비스에서 전체 평균 구매 금액보다 더 많이 지출한 우수 고객은 누구일까?" 이런 질문은 어떻게 해결할까요?

3
00:03:01,000 --> 00:03:05,500
먼저 전체 평균을 구하고, 그 결과값을 다시 조건문에 넣어야 합니다. 이때 사용하는 것이 바로 '서브쿼리'입니다.

4
00:03:06,000 --> 00:03:11,000
서브쿼리는 괄호 ( ) 안에 작성하며, 메인 쿼리가 실행되기 전에 먼저 실행되어 결과를 전달하는 역할을 합니다.

5
00:06:01,000 --> 00:06:05,500
서브쿼리는 쓰이는 위치에 따라 이름이 다릅니다. SELECT 절에 쓰이면 '스칼라 서브쿼리', FROM 절은 '인라인 뷰'라고 하죠.

6
00:06:06,000 --> 00:11,000

특히 FROM 절에 서브쿼리를 사용하면, 복잡한 집계 데이터를 마치 하나의 테이블처럼 자유롭게 다시 요약할 수 있습니다.

7
00:12:01,000 --> 00:12:05,500
WHERE 절에서 서브쿼리를 활용해 '특정 조건을 만족하는 그룹에 속한 데이터'만 필터링하는 법을 실습합니다.

8
00:12:06,000 --> 00:12:11,000
예를 들어 "가장 최근에 주문한 이력이 있는 고객들의 상세 정보"를 뽑을 때 서브쿼리는 매우 강력한 힘을 발휘합니다.

9
00:15:01,000 --> 00:15:05,500
다만, 서브쿼리가 너무 중첩되면 쿼리 속도가 느려질 수 있습니다. 성능 최적화를 위한 주의사항도 함께 알아봅니다.

10
00:15:06,000 --> 00:15:11,000
서브쿼리와 비슷한 역할을 하지만 더 가독성이 좋은 'With 절(CTE)' 개념을 맛보기로 살펴보고 코드를 정리해 봅시다.

11
00:18:01,000 --> 00:18:05,500
이제 실전 문제입니다! "카테고리별 평균 가격보다 비싼 개별 상품들의 리스트"를 서브쿼리를 이용해 추출해 보세요.

12
00:21:01,000 --> 00:21:05,500
단계별로 생각하세요. 먼저 카테고리별 평균을 구하는 내부 쿼리를 짜고, 이를 메인 쿼리의 조건으로 연결하면 됩니다.

13
00:24:01,000 --> 00:24:05,500
서브쿼리를 자유자재로 다루기 시작하면, 여러분은 이제 어떤 복잡한 데이터 요구사항도 코드로 구현할 수 있게 됩니다.

14
00:27:01,000 --> 00:27:05,500
5차시 수고하셨습니다! 괄호 하나로 데이터의 차원이 달라지는 서브쿼리의 매력을 충분히 느끼셨길 바랍니다.

15
00:27:06,000 --> 00:27:11,000
다음 시간에는 데이터 분석의 또 다른 축, '날짜와 시간 데이터'를 다루는 시계열 분석 기초를 학습하겠습니다.